version: '3.4'
name: mini-e-commerce

services:
  order-service:
    container_name: order-service
    image: ${DOCKER_REGISTRY-}orderserviceapi
    build:
      context: .
      dockerfile: Services/OrderService/OrderService.API/Dockerfile

  #userservice.identity.db:
  #  container_name: miniecom-identity-service-db
  #  image: mcr.microsoft.com/mssql/server:2022-latest
  #  ports:
  #      - 8002:1433
  #  environment:
  #      - ACCEPT_EULA=Y
  #      - MSSQL_SA_PASSWORD=myStong_Password123# 

  purchase-service:
    container_name: purchase-service
    image: ${DOCKER_REGISTRY-}purchaseserviceapi
    build:
      context: .
      dockerfile: Services/PurchaseService/PurchaseService.API/Dockerfile

  product-service:
    container_name: product-service
    image: ${DOCKER_REGISTRY-}productserviceapi
    build:
      context: .
      dockerfile: Services/ProductService/ProductService.API/Dockerfile

  desktop-app:
    container_name: desktop-app
    image: ${DOCKER_REGISTRY-}desktopapp
    build:
      context: .
      dockerfile: Frontends/DesktopApp/Dockerfile
    ports:
        - 5000:443


