@page "/"
@using Microsoft.AspNetCore.Authentication;
@using Microsoft.AspNetCore.Authentication.Cookies;
@attribute [Authorize]
@inject IHttpContextAccessor httpContextAccessor
<PageTitle>Shop</PageTitle>

@if(_products != null)
{
    <div>
        <h1>Products</h1>

        @foreach(var product in _products)
        {
            <div class="p-2 d-flex flex-column gap-2">
                <label>@product.Number - @product.Name</label>
                <label>Price: $@product.PricePerQuantity</label>
                <MudButton OnClick="async() => AddToBasket(product)">Add to basket</MudButton>
            </div>
        }
    </div>
}
else
{
    <label>Loading products..</label>
}